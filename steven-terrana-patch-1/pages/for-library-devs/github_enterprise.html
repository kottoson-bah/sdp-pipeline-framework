

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>GitHub Enterprise &mdash; Solutions Delivery Platform  documentation</title>
  

  
  
  
  

  

  
  
    

  

  <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/theme_overrides.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/style.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/banner.css" type="text/css" />
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="For SDP Users" href="../for-sdp-users/index.html" />
    <link rel="prev" title="For Library Developers" href="index.html" /> 

  
  <script src="../../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../../index.html" class="icon icon-home"> Solutions Delivery Platform
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../getting-started/index.html">Getting Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="../libraries/index.html">Pipeline Libraries</a></li>
<li class="toctree-l1"><a class="reference internal" href="../for-framework-devs/index.html">For Framework Developers</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">For Library Developers</a><ul class="current">
<li class="toctree-l2 current"><a class="current reference internal" href="#">GitHub Enterprise</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../for-sdp-users/index.html">For SDP Users</a></li>
<li class="toctree-l1"><a class="reference internal" href="../how-to/index.html">How-To’s</a></li>
<li class="toctree-l1"><a class="reference internal" href="../contribute-to-docs.html">Contribute to the Docs</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">Solutions Delivery Platform</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../index.html">Docs</a> &raquo;</li>
        
          <li><a href="index.html">For Library Developers</a> &raquo;</li>
        
      <li>GitHub Enterprise</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../../_sources/pages/for-library-devs/github_enterprise.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  


    
    



    <p class="scv-banner scv-sphinx_rtd_theme"><a href="../../../master/pages/for-library-devs/github_enterprise.html"><b>Warning:</b> This document is for the development version of Solutions Delivery Platform. The main version is master.</a></p>
<div class="section" id="github-enterprise">
<h1>GitHub Enterprise<a class="headerlink" href="#github-enterprise" title="Permalink to this headline">¶</a></h1>
<div class="section" id="collect-scm-metadata">
<h2>Collect SCM Metadata<a class="headerlink" href="#collect-scm-metadata" title="Permalink to this headline">¶</a></h2>
<p>The library utilizes a constructor to collect some information during intialization.</p>
<div class="admonition important">
<p class="first admonition-title">Important</p>
<p class="last">Reminder: Code in a library step not encapsulated in a method will be executed when
the library is loaded</p>
</div>
<p>The follow environment variables are collected at the start of the build:</p>
<table border="1" class="docutils" id="id1">
<caption><span class="caption-text">GitHub Enterprise Environment Variables</span><a class="headerlink" href="#id1" title="Permalink to this table">¶</a></caption>
<colgroup>
<col width="50%" />
<col width="50%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Environment Variable</th>
<th class="head">Meaning</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>GIT_URL</td>
<td>The remote github url for the repository</td>
</tr>
<tr class="row-odd"><td>ORG_NAME</td>
<td>The GitHub Organization or User owning the repository</td>
</tr>
<tr class="row-even"><td>REPO_NAME</td>
<td>The name of the repository</td>
</tr>
<tr class="row-odd"><td>GIT_SHA</td>
<td>The commit id of the current pipeline run</td>
</tr>
<tr class="row-even"><td>GIT_BUILD_CAUSE</td>
<td>One of <code class="docutils literal"><span class="pre">commit</span></code>, <code class="docutils literal"><span class="pre">merge</span></code>, or <code class="docutils literal"><span class="pre">pr</span></code></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="interact-with-remote-github-repository">
<h2>Interact with Remote GitHub Repository<a class="headerlink" href="#interact-with-remote-github-repository" title="Permalink to this headline">¶</a></h2>
<p>This functionality is typically going to be used by other libraries rather than
directly by a user or Jenkinsfile.</p>
<div class="code groovy highlight-default"><div class="highlight"><pre><span></span>/*
    @Params:
        url:  remote github url (https)
        cred: jenkins credential ID to access repository
*/
withGit(String url, String cred){
    /*
        Working directory is now the remote GitHub
        repository ${url} and can be interacted with
        via a git object.
    */

    // stage a file
    git add: &quot;some_file.txt&quot;

    // stage a set of files
    git add: [ &quot;some_file.txt&quot;, &quot;another_file.groovy&quot; ]

    // commit changes with message
    git commit: &quot;my commit message&quot;

    // push changes
    git push
}
</pre></div>
</div>
<p><strong>Example</strong></p>
<div class="code groovy highlight-default"><div class="highlight"><pre><span></span><span class="n">withGit</span> <span class="n">url</span><span class="p">:</span> <span class="s2">&quot;https://github.company.com/my-org/my-cool-repo.git&quot;</span><span class="p">,</span> <span class="n">cred</span><span class="p">:</span> <span class="s2">&quot;cool-repo&quot;</span><span class="p">,</span> <span class="p">{</span>
    <span class="o">//</span> <span class="n">now</span> <span class="n">inside</span> <span class="n">a</span> <span class="n">node</span> <span class="n">block</span> <span class="k">with</span> <span class="n">the</span> <span class="n">repository</span> <span class="k">as</span> <span class="n">the</span> <span class="n">working</span> <span class="n">directory</span>
    <span class="n">sh</span> <span class="s2">&quot;echo hey &gt;&gt; some_file.text&quot;</span>
    <span class="n">git</span> <span class="n">add</span><span class="p">:</span> <span class="s2">&quot;some_file.text&quot;</span>
    <span class="n">git</span> <span class="n">commit</span><span class="p">:</span> <span class="s2">&quot;I said hey in the file&quot;</span>
    <span class="n">git</span> <span class="n">push</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../for-sdp-users/index.html" class="btn btn-neutral float-right" title="For SDP Users" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="index.html" class="btn btn-neutral" title="For Library Developers" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2018, Booz Allen Hamilton. All Rights Reserved. 
  This software package is licensed under the Booz Allen Public License. The license can be found in the License file or at http://boozallen.github.io/licenses/bapl.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  
<div class="rst-versions" data-toggle="rst-versions" role="note" aria-label="versions">
    <span class="rst-current-version" data-toggle="rst-current-version">
        <span class="fa fa-book"> Other Versions</span>
        v: steven-terrana-patch-1
        <span class="fa fa-caret-down"></span>
    </span>
    <div class="rst-other-versions">
        <dl>
            <dt>Branches</dt>
            <dd><a href="../../../master/pages/for-library-devs/github_enterprise.html">master</a></dd>
            <dd><a href="../../../owasp-dep-check-lib/pages/for-library-devs/github_enterprise.html">owasp-dep-check-lib</a></dd>
            <dd><a href="github_enterprise.html">steven-terrana-patch-1</a></dd>
        </dl>
    </div>
</div>


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../../',
            VERSION:'',
            LANGUAGE:'None',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true,
            SOURCELINK_SUFFIX: '.txt'
        };
    </script>
      <script type="text/javascript" src="../../_static/jquery.js"></script>
      <script type="text/javascript" src="../../_static/underscore.js"></script>
      <script type="text/javascript" src="../../_static/doctools.js"></script>

  

  <script type="text/javascript" src="../../_static/js/theme.js"></script>

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>